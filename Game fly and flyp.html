<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Memoria - Danza AÃ©rea</title>

<style>
  body {
    font-family: 'Poppins', sans-serif;
    background: linear-gradient(135deg, #2b2b2b, #1a1a1a);
    color: #fff;
    text-align: center;
    margin: 0;
    padding: 0;
    overflow-x: hidden;
  }

  h1 {
    margin-top: 20px;
    color: #ffaad4;
    text-shadow: 0 0 10px #ff88cc;
  }

  #game-container {
    display: grid;
    justify-content: center;
    margin: 40px auto;
    gap: 10px;
    perspective: 1000px;
  }

  /* ======== CARTA ======== */
  .card {
    width: 90px;
    height: 90px;
    position: relative;
    transform-style: preserve-3d;
    transition: transform 0.6s;
    cursor: pointer;
  }

  .card.flipped {
    transform: rotateY(180deg);
  }

  /* ==== FRENTE DE CARTA ==== */
  .card .front,
  .card .back {
    position: absolute;
    width: 100%;
    height: 100%;
    border-radius: 10px;
    backface-visibility: hidden;
  }

  .card .front {
    background-color: #222;
    display: flex;
    justify-content: center;
    align-items: center;
    overflow: hidden;
  }

  .card .front img {
    width: 100%;
    height: 100%;
    border-radius: 10px;
    object-fit: cover;
  }

  /* ==== REVERSO DE CARTA ==== */
  .card .back {
    background-image: url('imagenes/reverso.jpg');
    background-size: cover;
    background-position: center;
    transform: rotateY(180deg);
  }

  #nivel, #mensaje {
    font-size: 1.2em;
    margin-top: 10px;
  }

  button {
    background: #ff66b3;
    border: none;
    color: white;
    padding: 10px 20px;
    font-size: 1em;
    border-radius: 5px;
    cursor: pointer;
    margin-top: 20px;
    transition: background 0.3s;
  }

  button:hover {
    background: #ff3385;
  }

  audio {
    display: none;
  }
</style>
</head>

<body>

<h1>ðŸŽ­ Memoria Danza AÃ©rea</h1>
<p id="nivel">Nivel 1</p>
<div id="game-container"></div>
<p id="mensaje"></p>
<button id="start-btn">Iniciar Juego</button>
<button id="mute-btn" style="display:none;">ðŸ”Š Silenciar</button>

<audio id="bg-music" loop>
  <!-- Solo el desarrollador puede reemplazar esta mÃºsica -->
  <source src="musica/musica_fondo.mp3" type="audio/mpeg">
</audio>

<script>
  const contenedor = document.getElementById('game-container');
  const nivelTxt = document.getElementById('nivel');
  const mensaje = document.getElementById('mensaje');
  const startBtn = document.getElementById('start-btn');
  const muteBtn = document.getElementById('mute-btn');
  const musica = document.getElementById('bg-music');

  let nivel = 1;
  let paresEncontrados = 0;
  let cartasSeleccionadas = [];
  let cartas;
  let sonidosActivos = true;

  // ==== IMÃGENES PROTEGIDAS (solo modificables por el desarrollador) ====
  const imagenes = [
    'imagenes/pose1.jpg', 'imagenes/pose2.jpg', 'imagenes/pose3.jpg',
    'imagenes/pose4.jpg', 'imagenes/pose5.jpg', 'imagenes/pose6.jpg',
    'imagenes/pose7.jpg', 'imagenes/pose8.jpg', 'imagenes/pose9.jpg',
    'imagenes/pose10.jpg'
  ];

  // ==== BOTÃ“N INICIAR ====
  startBtn.addEventListener('click', () => {
    startBtn.style.display = 'none';
    muteBtn.style.display = 'inline-block';
    musica.play().catch(() => {});
    iniciarNivel();
  });

  // ==== BOTÃ“N SILENCIAR ====
  muteBtn.addEventListener('click', () => {
    if (musica.paused) {
      musica.play();
      muteBtn.textContent = "ðŸ”Š Silenciar";
    } else {
      musica.pause();
      muteBtn.textContent = "ðŸ”ˆ Activar";
    }
  });

  // ==== INICIAR NIVEL ====
  function iniciarNivel() {
    mensaje.textContent = '';
    contenedor.innerHTML = '';
    paresEncontrados = 0;
    cartasSeleccionadas = [];

    const pares = Math.min(2 + nivel, imagenes.length);
    const seleccion = imagenes.slice(0, pares);
    const baraja = [...seleccion, ...seleccion].sort(() => 0.5 - Math.random());

    const columnas = Math.ceil(Math.sqrt(baraja.length));
    contenedor.style.gridTemplateColumns = `repeat(${columnas}, 90px)`;

    baraja.forEach(src => {
      const card = document.createElement('div');
      card.classList.add('card');
      card.dataset.imagen = src;

      const front = document.createElement('div');
      front.classList.add('front');
      const img = document.createElement('img');
      img.src = src;
      img.alt = "Carta Danza AÃ©rea";
      front.appendChild(img);

      const back = document.createElement('div');
      back.classList.add('back');

      card.appendChild(front);
      card.appendChild(back);

      card.addEventListener('click', () => voltearCarta(card));
      contenedor.appendChild(card);
    });

    cartas = document.querySelectorAll('.card');
    nivelTxt.textContent = `Nivel ${nivel}`;
  }

  // ==== VOLTEAR CARTA ====
  function voltearCarta(card) {
    if (card.classList.contains('flipped') || cartasSeleccionadas.length === 2) return;

    card.classList.add('flipped');
    cartasSeleccionadas.push(card);

    if (cartasSeleccionadas.length === 2) {
      const [c1, c2] = cartasSeleccionadas;
      if (c1.dataset.imagen === c2.dataset.imagen) {
        paresEncontrados++;
        cartasSeleccionadas = [];
        if (paresEncontrados === Math.min(2 + nivel, imagenes.length)) {
          setTimeout(() => {
            mensaje.textContent = "ðŸŽ‰ Â¡Nivel completado!";
            nivel++;
            if (nivel > 20) {
              mensaje.textContent = "ðŸ† Â¡Has completado los 20 niveles de Danza AÃ©rea!";
              contenedor.innerHTML = '';
              nivelTxt.textContent = '';
              return;
            }
            setTimeout(iniciarNivel, 1500);
          }, 700);
        }
      } else {
        setTimeout(() => {
          c1.classList.remove('flipped');
          c2.classList.remove('flipped');
          cartasSeleccionadas = [];
        }, 1000);
      }
    }
  }
</script>

</body>
</html>

    }
  }
</script>

</body>
</html>
