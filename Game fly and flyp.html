<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Memorama de Danza AÃ©rea </title>
<style>
  body {
    font-family: 'Poppins', sans-serif;
    background-image: url('09 wheel of fortune.jpg');
    color: #101011;
    text-align: center;
    margin: 0;
    padding: 0;
    overflow-x: hidden;
  }

  h1 {
    margin-top: 20px;
    color: #403C95;
    text-shadow: 0 0 15px #F8B653;
  }
   p {
    margin-top: 30px;
    color: #BD10EE;
    text-shadow: 0 0 35px #F8B653;
  }

  #game-container {
    display: grid;
    justify-content: center;
    margin: 50px auto;
    gap: 20px;
  }

  .card {
    width: 80px;
    height: 180px;
    background-image: url('GPO BKM 2.jpg');
    border-radius: 20px;
    cursor: pointer;
    transform: scale(1);
    transition: transform 0.2s;
    position: relative;
    box-shadow: 0 0 10px rgba(255,255,255,0.1);
  }

  .card:hover {
    transform: scale(1.05);
  }

  .card img {
    width: 100%;
    height: 100%;
    border-radius: 10px;
    display: none;
  }

  .card.flipped img {
    display: block;
  }

  #nivel, #mensaje {
    font-size: 3.2em;
    margin-top: 30px;
  }

  button {
    background: #DED5F4;
    border: dotted;
    color: black;
    padding: 10px 20px;
    font-size: 1em;
    border-radius: 5px;
    cursor: pointer;
    margin-top: 20px;
    transition: background 0.3s;
  }

  button:hover {
    background: #ff3385;
  }

  audio {
    display: block;
  }

  @keyframes win {
    from { background-color: #000; }
    to { background-color: #2b2b2b; }
  }

</style>
</head>
<body>

<h1>ðŸ˜Ž Memorama de Danza AÃ©rea by Blackmoon Games ðŸ˜Ž </h1>
<p id="nivel">Nivel 1 ðŸ˜œ</p>
<div id="game-container"></div>
<p id="mensaje"></p>
<button id="start-btn">Iniciar Juego</button>
<button id="mute-btn" style="display:none;">ðŸ”Š Silenciar</button>

<audio id="bg-music" loop>
  <!-- El desarrollador puede cambiar el archivo aquÃ­ -->
  <source src="15.-En el aire soy todo.m4a" type="audio/mpeg">
</audio>

<script>
  const contenedor = document.getElementById('game-container');
  const nivelTxt = document.getElementById('nivel');
  const mensaje = document.getElementById('mensaje');
  const startBtn = document.getElementById('start-btn');
  const muteBtn = document.getElementById('mute-btn');
  const musica = document.getElementById('bg-music');

  let nivel = 1;
  let paresEncontrados = 0;
  let cartasSeleccionadas = [];
  let cartas;
  let sonidosActivos = true;

  // Lista de imÃ¡genes protegidas (solo el desarrollador puede cambiarlas)
  const imagenes = [
    '00 the aerealist.jpg', '01 ace of pentacles.jpg', '02 kinigth of pentacles.jpg',
    '03 the devil.jpg', '04 the hanged man.jpg', '05 the hermit.jpg',
    '06 the hirophant.jpg', '07 the moon.jpg', '08 the sun.jpg',
    '09 wheel of fortune.jpg'
  ];

  // Inicia el juego
  startBtn.addEventListener('click', () => {
    startBtn.style.display = 'none';
    muteBtn.style.display = 'inline-block';
    musica.play().catch(() => {});
    iniciarNivel();
  });

  // BotÃ³n de silenciar mÃºsica
  muteBtn.addEventListener('click', () => {
    if (musica.paused) {
      musica.play();
      muteBtn.textContent = "ðŸ”Š Silenciar";
    } else {
      musica.pause();
      muteBtn.textContent = "ðŸ”ˆ Activar";
    }
  });

  function iniciarNivel() {
    mensaje.textContent = '';
    contenedor.innerHTML = '';
    paresEncontrados = 0;
    cartasSeleccionadas = [];

    const pares = Math.min(2 + nivel, imagenes.length);
    const seleccion = imagenes.slice(0, pares);
    const baraja = [...seleccion, ...seleccion].sort(() => 0.5 - Math.random());

    // TamaÃ±o de la cuadrÃ­cula segÃºn el nivel
    const columnas = Math.ceil(Math.sqrt(baraja.length));
    contenedor.style.gridTemplateColumns = `repeat(${columnas}, 80px)`;

    baraja.forEach((src, index) => {
      const card = document.createElement('div');
      card.classList.add('card');
      card.dataset.imagen = src;

      const img = document.createElement('img');
      img.src = src;
      img.alt = "Carta Danza AÃ©rea";

      card.appendChild(img);
      card.addEventListener('click', () => voltearCarta(card));
      contenedor.appendChild(card);
    });

    cartas = document.querySelectorAll('.card');
    nivelTxt.textContent = `Nivel ${nivel}`;
  }

  function voltearCarta(card) {
    if (card.classList.contains('flipped') || cartasSeleccionadas.length === 2) return;

    card.classList.add('flipped');
    cartasSeleccionadas.push(card);

    if (cartasSeleccionadas.length === 2) {
      const [c1, c2] = cartasSeleccionadas;
      if (c1.dataset.imagen === c2.dataset.imagen) {
        paresEncontrados++;
        cartasSeleccionadas = [];
        if (paresEncontrados === (Math.min(2 + nivel, imagenes.length))) {
          setTimeout(() => {
            mensaje.textContent = "âœŒ Â¡Nivel completado, sigue adelante aerealista! âœŒ";
            nivel++;
            if (nivel > 20) {
              mensaje.textContent = "ðŸ† Â¡Has completado los 20 niveles de Danza AÃ©rea! ðŸ†";
              contenedor.innerHTML = '';
              nivelTxt.textContent = '';
              return;
            }
            setTimeout(iniciarNivel, 1500);
          }, 500);
        }
      } else {
        setTimeout(() => {
          c1.classList.remove('flipped');
          c2.classList.remove('flipped');
          cartasSeleccionadas = [];
        }, 800);
      }
    }
  }
</script>

</body>
</html>
