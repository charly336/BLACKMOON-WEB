<!DOCTYPE html>
<html lang="es">

<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>üêç Dark Snake -V.1- üêç</title>

<style>
body{
    margin:0;
    background:#1b103f;
    color:white;
    font-family:Arial;
    text-align:center;
}

/* CONTENEDOR GENERAL */
.container{
    display:flex;
    flex-wrap:wrap;
    justify-content:center;
    gap:20px;
    margin-top:20px;
}

/* CAJA DEL JUEGO "GLASS VIEW" */
.game-box{
    background:rgba(255,255,255,0.12);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    padding:20px;
    border-radius:18px;
    box-shadow:0 0 25px rgba(0,0,0,0.6);
    width:90%;
    max-width:400px;
}

/* CANVAS RESPONSIVE */
canvas{
    width:100% !important;
    height:auto !important;
    background:#92da71;
    border-radius:12px;
}

/* IMAGEN PROMO */
.promo-box img{
    width:90%;
    max-width:320px;
    border-radius:15px;
    box-shadow:0 0 10px #000;
}

/* BOT√ìN */
button{
    margin-top:10px;
    padding:12px 24px;
    border:none;
    background:rgba(255,255,255,0.18);
    color:white;
    border-radius:10px;
    font-size:18px;
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    box-shadow:0 0 10px rgba(0,0,0,0.5);
    cursor:pointer;
}

/* FOOTER RESPONSIVE GLASS */
footer{
    margin-top:30px;
    width:100%;
    padding:20px;
    display:flex;
    flex-wrap:wrap;
    justify-content:center;
    gap:25px;
    background:rgba(0,0,0,0.25);
    backdrop-filter:blur(8px);
    -webkit-backdrop-filter:blur(8px);
}

footer a{
    color:white;
    font-size:16px;
    text-decoration:none;
}

/* ANIMACI√ìN SUAVE */
.smooth{
    transition: all 0.12s ease;
}

/* RESPONSIVE PARA TEL√âFONOS */
@media (max-width:480px){
    h1{ font-size:24px; }
    button{ font-size:16px; }
    footer a{ font-size:14px; }
}
</style>
</head>

<body>

<h1>Dark Snake -V.1-</h1>

<p>Puntos: <span id="score">0</span> ‚Äî Nivel: <span id="level">1</span></p>
<p>Visitas: <span id="visitas"></span></p>

<button id="pauseBtn">Pausar</button>

<div class="container">

    <div class="game-box">
        <canvas id="gameCanvas"></canvas>
    </div>

    <div class="promo-box">
        <img src="Imagen de WhatsApp 2025-11-02 a las 17.12.14_83e6c797.jpg" alt="Games">
    </div>

</div>

<footer>
    <a href="https://www.jotform.com/app/251536021952856">NUESTRA APP</a>
    <a href="https://charly336.github.io/BLACKMOON-WEB/Games%20List.html">MAS JUEGOS</a>
    <a href="https://charly336.github.io/BLACKMOON-WEB/REDES%20PBM.html">PRODUCTOS BLACKMOON</a>
    <a href="https://www.jotform.com/app/253047701093856">BLACKMOON GIFT</a>
</footer>

<script>
/* ===============================
         CONTADOR DE VISITAS
   =============================== */
let visitas = localStorage.getItem("visitasSnake");
if(!visitas){ visitas = 1; }
else{ visitas = parseInt(visitas) + 1; }
localStorage.setItem("visitasSnake", visitas);
document.getElementById("visitas").innerText = visitas;

/* ===============================
         CONFIGURACIONES
   =============================== */
const snakeColor = "#33ff55";
const foodColor  = "#ff3333";

let speed = 150;
let currentLevel = 1;

const canvas = document.getElementById("gameCanvas");
const ctx = canvas.getContext("2d");

canvas.width = 300;
canvas.height = 300;

let box = 15;
let snake = [{x:10, y:10}];
let food = {x:15, y:15};
let dx = 1, dy = 0;
let score = 0;
let paused = false;

document.getElementById("pauseBtn").onclick = () => {
    paused = !paused;
    document.getElementById("pauseBtn").innerText = paused ? "Continuar" : "Pausar";
};

/* ===============================
         DIBUJAR SNAKE
   =============================== */
function drawSnake(){
    ctx.fillStyle = snakeColor;
    snake.forEach((p, i) => {
        ctx.globalAlpha = i === 0 ? 1 : 0.8;
        ctx.fillRect(p.x * box, p.y * box, box - 1, box - 1);
    });
    ctx.globalAlpha = 1;
}

/* ===============================
            DIBUJAR COMIDA
   =============================== */
function drawFood(){
    ctx.fillStyle = foodColor;
    ctx.shadowColor = foodColor;
    ctx.shadowBlur = 10;
    ctx.fillRect(food.x * box, food.y * box, box - 1, box - 1);
    ctx.shadowBlur = 0;
}

/* ===============================
             MOVIMIENTO
   =============================== */
function moveSnake(){
    let head = { x: snake[0].x + dx, y: snake[0].y + dy };

    if (head.x < 0) head.x = canvas.width / box - 1;
    if (head.x >= canvas.width / box) head.x = 0;
    if (head.y < 0) head.y = canvas.height / box - 1;
    if (head.y >= canvas.height / box) head.y = 0;

    snake.unshift(head);

    if (head.x === food.x && head.y === food.y){
        score++;
        document.getElementById("score").innerText = score;

        if (score % 5 === 0){
            currentLevel++;
            document.getElementById("level").innerText = currentLevel;
            speed = Math.max(60, speed - 15);
        }

        food = {
            x: Math.floor(Math.random() * (canvas.width / box)),
            y: Math.floor(Math.random() * (canvas.height / box))
        };

    } else snake.pop();
}

/* ===============================
         COLISI√ìN CONSIGO MISMA
   =============================== */
function checkCollision(){
    for (let i = 1; i < snake.length; i++){
        if (snake[i].x === snake[0].x && snake[i].y === snake[0].y){
            alert("Perdiste. Puntuaci√≥n final: " + score);
            document.location.reload();
        }
    }
}

/* ===============================
          CONTROLES
   =============================== */
document.addEventListener("keydown", e =>{
    if (e.key === "ArrowUp"    && dy === 0){ dx=0; dy=-1; }
    if (e.key === "ArrowDown"  && dy === 0){ dx=0; dy=1; }
    if (e.key === "ArrowLeft"  && dx === 0){ dx=-1; dy=0; }
    if (e.key === "ArrowRight" && dx === 0){ dx=1; dy=0; }
});

/* ===============================
         LOOP PRINCIPAL
   =============================== */
function gameLoop(){
    if (!paused){
        ctx.clearRect(0,0,canvas.width,canvas.height);
        drawFood();
        drawSnake();
        moveSnake();
        checkCollision();
    }
    setTimeout(gameLoop, speed);
}

gameLoop();
</script>

</body>
</html>
