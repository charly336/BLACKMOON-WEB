<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ruleta Danza A√©rea</title>
  <style>
    :root{
      --bg-externo: radial-gradient(circle at top, #1a0026, #000);
      --bg-juego: linear-gradient(135deg, #12001a, #1f0033);
      --color-primario: #b85cff;
      --color-secundario: #00e0ff;
      --texto: #ffffff;
    }

    *{box-sizing:border-box; font-family:Arial, Helvetica, sans-serif;}

    body{
      margin:0;
      background: var(--bg-externo);
      color: var(--texto);
      min-height:100vh;
      display:flex;
      flex-direction:column;
    }

    header{
      padding:20px;
      text-align:center;
      font-size:1.5rem;
      letter-spacing:2px;
    }

    .layout{
      flex:1;
      display:flex;
      gap:30px;
      padding:30px;
      align-items:flex-start;
      justify-content:center;
    }

    .zona-juego{
      background: var(--bg-juego);
      padding:30px;
      border-radius:20px;
      box-shadow:0 0 40px rgba(184,92,255,0.4);
    }

    .ruleta-container{
      position:relative;
      width:320px;
      height:320px;
      margin:auto;
    }

    .flecha{
      position:absolute;
      top:50%;
      right:-28px;
      transform:translateY(-50%);
      width:0;
      height:0;
      border-top:18px solid transparent;
      border-bottom:18px solid transparent;
      border-left:32px solid red;
      z-index:20;
    }

    .flecha::after{
      content:'SELECCI√ìN';
      position:absolute;
      right:-4px;
      top:50%;
      transform:translate(100%, -50%);
      font-size:10px;
      color:red;
      font-weight:bold;
      letter-spacing:1px;
      white-space:nowrap;
    }

    .flecha::after{
      content:'SELECCI√ìN';
      position:absolute;
      top:-22px;
      left:50%;
      transform:translateX(-50%);
      font-size:10px;
      color:red;
      font-weight:bold;
      letter-spacing:1px;
    }

    canvas{
      width:100%;
      height:100%;
      border-radius:50%;
    }

    .btn-girar{
      position:absolute;
      top:50%;
      left:50%;
      transform:translate(-50%, -50%);
      width:90px;
      height:90px;
      border-radius:50%;
      border:none;
      cursor:pointer;
      background: radial-gradient(circle, var(--color-secundario), var(--color-primario));
      color:#000;
      font-weight:bold;
      text-transform:uppercase;
      box-shadow:0 0 25px rgba(0,224,255,0.8);
    }

    .resultado{
      margin-top:25px;
      text-align:center;
    }

    .resultado img{
      max-width:140px;
      margin-bottom:10px;
    }

    .promo{
      max-width:280px;
      text-align:center;
    }

    .promo img{
      width:100%;
      border-radius:20px;
      box-shadow:0 0 30px rgba(0,0,0,0.6);
    }

    footer{
      display:flex;
      justify-content:space-around;
      padding:20px;
      background:rgba(0,0,0,0.6);
      backdrop-filter: blur(10px);
    }

    footer a{
      color:var(--color-secundario);
      text-decoration:none;
      font-weight:bold;
    }

    @media(max-width:900px){
      .layout{flex-direction:column; align-items:center;}
    }
  </style>
</head>
<body>

<header>üé™ Ruleta A√©rea ‚Äì Black Moon Style</header>

<div class="layout">

  <div class="zona-juego">
    <div class="ruleta-container">
      <div class="flecha"></div>
      <canvas id="ruleta" width="320" height="320"></canvas>
      <button class="btn-girar" id="btnGirar">GIRAR</button>
    </div>

    <div class="resultado" id="resultado">
      <p>Resultado aparecer√° aqu√≠</p>
    </div>
  </div>

  <div class="promo">
    <img src="promo.jpg" alt="Imagen promocional danza a√©rea">
    <p>Promoci√≥n / Evento / Escuela</p>
  </div>

</div>

<footer>
  <a href="#">Escuela</a>
  <a href="#">Eventos</a>
  <a href="#">Podcast</a>
  <a href="#">Contacto</a>
</footer>

<audio id="spinSound" src="spin.mp3" preload="auto"></audio>
<audio id="stopSound" src="stop.mp3" preload="auto"></audio>

<script>
/* ================= L√ìGICA ================= */
const canvas = document.getElementById('ruleta');
const ctx = canvas.getContext('2d');
const btnGirar = document.getElementById('btnGirar');

let modo = 'normal'; // normal | castigo | entrenamiento
let historial = [];

const retos = {
  castigo: '10 segundos colgado en invertido',
  entrenamiento: 'Repite la figura 2 veces con control'
};

const espacios = [
  { tipo:'imagen', texto:'split', img:'da split.jpg' },
  { tipo:'imagen', texto:'arco', img:'da  arco hacia adelante.jpg' },
  { tipo:'imagen', texto:'angel-sirena', img:'da angel-sirena.jpg' },
  { tipo:'imagen', texto:'5 subidas sin tocar piso', img:'aerial black moon.jpg' },
  { tipo:'especial', texto:'TE SALVASTE üéâ' },
  { tipo:'imagen', texto:'bandera', img:'da bandera.jpg' },
  { tipo:'imagen', texto:'cuadrado', img:'da cuadrado.jpg' },
  { tipo:'imagen', texto:'inversion 1 pie', img:'da inversion en 1 pie.jpg' },
  { tipo:'imagen', texto:'5 abdominales x 1 subida 5 veces', img:'Imagen de WhatsApp 2025-11-02 a las 17.12.14_83e6c797.jpg' },
  { tipo:'especial', texto:'REPITE FIGURA üîÅ' },
  { tipo:'imagen', texto:'inversion suastica', img:'da inversion y suastica.jpg' },
  { tipo:'imagen', texto:'portor', img:'da portor.jpg' },
  { tipo:'imagen', texto:'scorpion doble', img:'da scorpion doble.jpg' },
  { tipo:'imagen', texto:'5 subidas diferentes', img:'GPO BKM 2.jpg' },
  { tipo:'especial', texto:'TE SALVASTE üéâ' },
  { tipo:'imagen', texto:'scorpion cocodrilo', img:'da scorpion.jpg' },
  { tipo:'scuad', texto:'scuad', img:'da scuad.jpg' },
  { tipo:'imagen', texto:'split de pared', img:'split de pared.jpg' },
  { tipo:'imagen', texto:'abdominales de cabeza', img:'aerial black moon.jpg' },
  { tipo:'especial', texto:'REPITE FIGURA üîÅ' }
  ];
  
  
  

const total = espacios.length;
const angulo = (2 * Math.PI) / total;
let rotacion = 0;

function dibujarRuleta(){
  ctx.clearRect(0,0,320,320);
  for(let i=0;i<total;i++){
    ctx.beginPath();
    ctx.moveTo(160,160);
    ctx.arc(160,160,160, angulo*i, angulo*(i+1));
    ctx.fillStyle = i%2===0 ? '#3a005c' : '#1b002b';
    ctx.fill();

    ctx.save();
    ctx.translate(160,160);
    ctx.rotate(angulo*i + angulo/2);
    ctx.textAlign='right';
    ctx.fillStyle='#fff';
    ctx.font='12px Arial';
    ctx.fillText(espacios[i].texto, 150, 5);
    ctx.restore();
  }
}

dibujarRuleta();

function girar(){
  document.getElementById('spinSound').play();
  const vueltas = Math.random()*5 + 5;
  const destino = rotacion + vueltas * 2 * Math.PI;
  const inicio = performance.now();
  const duracion = 3000;

  function animar(t){
    const progreso = Math.min((t - inicio) / duracion, 1);
    const ease = 1 - Math.pow(1 - progreso, 3);
    rotacion = rotacion + (destino - rotacion) * ease;

    ctx.save();
    ctx.translate(160,160);
    ctx.rotate(rotacion);
    ctx.translate(-160,-160);
    dibujarRuleta();
    ctx.restore();

    if(progreso < 1){
      requestAnimationFrame(animar);
    } else {
      document.getElementById('stopSound').play();
      mostrarResultado();
    }
  }

  requestAnimationFrame(animar);
}

function mostrarResultado(){
  const index = Math.floor(((2*Math.PI - (rotacion % (2*Math.PI))) / (2*Math.PI)) * total) % total;
  const res = espacios[index];
  const cont = document.getElementById('resultado');
  historial.push(res.texto);

  let extra = '';
  if(modo !== 'normal'){
    extra = `<p><strong>Reto:</strong> ${retos[modo]}</p>`;
  }

  if(res.tipo === 'imagen'){
    cont.innerHTML = `<img src="${res.img}"><h3>${res.texto}</h3>${extra}`;
  } else {
    cont.innerHTML = `<h2>${res.texto}</h2>${extra}`;
  }
}

btnGirar.addEventListener('click', girar);

// Neblina Black Moon
const fog = document.createElement('div');
fog.style.position='fixed';
fog.style.top=0;
fog.style.left=0;
fog.style.width='100%';
fog.style.height='100%';
fog.style.pointerEvents='none';
fog.style.background='radial-gradient(circle at 50% 50%, rgba(184,92,255,0.15), rgba(0,0,0,0.9))';
document.body.appendChild(fog);

window.verHistorial = ()=>console.table(historial);
  // ====== M√öSICA AMBIENTAL (6 PISTAS EN BUCLE) ======
const playlist = [
'music1.mp3',
'music2.mp3',
'music3.mp3',
'music4.mp3',
'music5.mp3',
'music6.mp3'
];


let trackActual = Math.floor(Math.random()*playlist.length);
const bgMusic = document.getElementById('bgMusic');


function reproducirMusica(){
bgMusic.src = playlist[trackActual];
bgMusic.volume = 0.4;
bgMusic.play();
}


bgMusic.addEventListener('ended', ()=>{
trackActual = (trackActual + 1) % playlist.length;
reproducirMusica();
});


// inicia m√∫sica con primera interacci√≥n
btnGirar.addEventListener('click', ()=>{
if(bgMusic.paused){ reproducirMusica(); }
}, { once:true });


// Neblina Black Moon
const fog = document.createElement('div');
fog.style.position='fixed';
fog.style.top=0;
fog.style.left=0;
fog.style.width='100%';
fog.style.height='100%';
fog.style.pointerEvents='none';
fog.style.background='radial-gradient(circle at 50% 50%, rgba(184,92,255,0.15), rgba(0,0,0,0.9))';
document.body.appendChild(fog);


window.verHistorial = ()=>console.table(historial);
</script>

</body>
</html>
