<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Aerial Rhythm – SAFE MODE</title>
<style>
    body {
        margin: 0;
        background: #0f0f1f;
        font-family: Arial, sans-serif;
        color: #fff;
        text-align: center;
    }

    h1 { margin-top: 30px; }

    #menu, #gameUI {
        display: none;
    }

    button {
        padding: 15px 30px;
        margin: 10px;
        font-size: 18px;
        background: #6a00ff;
        color: #fff;
        border: none;
        border-radius: 8px;
        cursor: pointer;
    }

    #gameArea {
        width: 90%;
        height: 400px;
        background: rgba(255,255,255,0.05);
        border: 2px solid #ffffff55;
        border-radius: 10px;
        margin: 20px auto;
        position: relative;
        overflow: hidden;
    }

    .note {
        width: 60px;
        height: 60px;
        border-radius: 50%;
        position: absolute;
        top: -70px;
        color: #fff;
        display: flex;
        justify-content: center;
        align-items: center;
        font-size: 26px;
        font-weight: bold;
    }

    .up    { background: #7300ff; }
    .down  { background: #ff0095; }
    .left  { background: #00caff; }
    .right { background: #ffae00; }

    #hitLine {
        width: 100%;
        height: 4px;
        background: #ffffffaa;
        position: absolute;
        bottom: 50px;
    }
</style>
</head>
<body>

<h1>Aerial Rhythm</h1>

<div id="menu">
    <h2>Menú Principal</h2>
    <button onclick="startGame()">Iniciar Juego</button>
</div>

<div id="gameUI">
    <h3 id="score">Puntos: 0</h3>
    <h3 id="combo">Combo: 0</h3>

    <div id="gameArea">
        <div id="hitLine"></div>
    </div>
</div>

<script>
let score = 0;
let combo = 0;
let dropping;
let speed = 1200;

// Mostrar menú al cargar
window.onload = () => {
    document.getElementById("menu").style.display = "block";
};

function startGame() {
    document.getElementById("menu").style.display = "none";
    document.getElementById("gameUI").style.display = "block";

    score = 0;
    combo = 0;
    updateUI();

    clearInterval(dropping);
    dropping = setInterval(spawnNote, speed);
}

function updateUI() {
    document.getElementById("score").innerText = "Puntos: " + score;
    document.getElementById("combo").innerText = "Combo: " + combo;
}

function spawnNote() {
    const dirs = ["up", "down", "left", "right"];
    let dir = dirs[Math.floor(Math.random() * dirs.length)];

    let n = document.createElement("div");
    n.classList.add("note", dir);

    n.innerText =
        dir === "up" ? "↑" :
        dir === "down" ? "↓" :
        dir === "left" ? "←" : "→";

    n.dataset.direction = dir;

    n.style.left =
        dir === "left" ? "20%" :
        dir === "right" ? "70%" :
        "45%";

    document.getElementById("gameArea").appendChild(n);

    let pos = -60;
    let fall = setInterval(() => {
        pos += 3;
        n.style.top = pos + "px";

        if (pos > 380) {
            n.remove();
            combo = 0;
            updateUI();
            clearInterval(fall);
        }
    }, 20);
}

document.addEventListener("keydown", (e) => {
    let dir =
        e.key === "ArrowUp" ? "up" :
        e.key === "ArrowDown" ? "down" :
        e.key === "ArrowLeft" ? "left" :
        e.key === "ArrowRight" ? "right" :
        null;

    if (!dir) return;

    let notes = document.querySelectorAll(".note");

    notes.forEach(n => {
        let t = parseInt(n.style.top);
        if (n.dataset.direction === dir && t > 260 && t < 420) {
            score += 10 + combo;
            combo++;
            updateUI();
            n.remove();
        }
    });
});
</script>

</body>
</html>



