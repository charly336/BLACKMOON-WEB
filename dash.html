<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Aerial Dash ¬∑ Black Moon</title>

<style>
body{
  margin:0;
  background:#000;
  overflow:hidden;
  font-family:Arial, sans-serif;
  color:white;
}

/* MENU */
#menu{
  position:fixed;
  inset:0;
  background:#000;
  display:flex;
  justify-content:center;
  align-items:center;
  z-index:10;
}
#menu button{
  padding:16px 40px;
  font-size:20px;
}

/* HUD */
#hud{
  position:fixed;
  top:10px;
  left:10px;
  z-index:5;
  font-size:16px;
}

/* CONTROLES */
#controls{
  position:fixed;
  bottom:20px;
  right:20px;
  z-index:5;
}
#jump{
  width:90px;
  height:90px;
  border-radius:50%;
  font-size:22px;
}
</style>
</head>

<body>

<!-- MENU -->
<div id="menu">
  <button id="start">INICIAR RITUAL</button>
</div>

<!-- HUD -->
<div id="hud">
  üåô Isis Moon<br>
  Telas superadas: <span id="score">0</span>
</div>

<!-- CANVAS -->
<canvas id="game"></canvas>

<!-- CONTROLES -->
<div id="controls">
  <button id="jump">‚¨ÜÔ∏è</button>
</div>

<script>
/* =========================================================
   üîí CONFIGURACI√ìN SOLO DESARROLLADOR (IM√ÅGENES)
   Cambia SOLO estas rutas si quieres usar im√°genes reales
========================================================= */
const DEV_ASSETS = {
  player: "isis_moon.png",   // personaje
  tela: "tela.png",          // obst√°culo
  moon: "luna.png",          // luna
  clouds: "nubes.png",       // nubes
  mountains: "montanas.png" // monta√±as
};
/* ========================================================= */

/* ===== CANVAS ===== */
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

function resize(){
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
}
resize();
window.addEventListener("resize", resize);

/* ===== IM√ÅGENES (opcionales) ===== */
const imgPlayer = new Image(); imgPlayer.src = DEV_ASSETS.player;
const imgTela = new Image(); imgTela.src = DEV_ASSETS.tela;
const imgMoon = new Image(); imgMoon.src = DEV_ASSETS.moon;
const imgClouds = new Image(); imgClouds.src = DEV_ASSETS.clouds;
const imgMount = new Image(); imgMount.src = DEV_ASSETS.mountains;

/* ===== JUGADOR (ISIS MOON) ===== */
const player = {
  x:120,
  y:0,
  w:40,
  h:40,
  vy:0,
  gravity:0.9,
  jump:-16,
  onGround:false
};

/* ===== ESTADO ===== */
let running=false;
let speed=6;
let telas=[];
let spawnTimer=0;
let score=0;
const scoreSpan=document.getElementById("score");

/* ===== CONTROLES ===== */
document.getElementById("jump").onclick = jump;
document.addEventListener("keydown",e=>{
  if(e.code==="Space"||e.code==="ArrowUp") jump();
});

function jump(){
  if(player.onGround){
    player.vy = player.jump;
    player.onGround = false;
  }
}

/* ===== LOOP PRINCIPAL ===== */
function loop(){
  if(!running) return;
  ctx.clearRect(0,0,canvas.width,canvas.height);

  /* ===== FONDO BLACK MOON ===== */
  ctx.fillStyle="#0a0018";
  ctx.fillRect(0,0,canvas.width,canvas.height);

  // Luna
  if(imgMoon.complete){
    ctx.drawImage(imgMoon,canvas.width-110,30,70,70);
  }else{
    ctx.fillStyle="#ddd";
    ctx.beginPath();
    ctx.arc(canvas.width-80,65,30,0,Math.PI*2);
    ctx.fill();
  }

  // Nubes
  if(imgClouds.complete){
    ctx.drawImage(imgClouds,(Date.now()/60)%canvas.width,110,canvas.width,120);
  }

  // Monta√±as
  if(imgMount.complete){
    ctx.drawImage(imgMount,0,canvas.height-220,canvas.width,220);
  }else{
    ctx.fillStyle="#1a0033";
    ctx.beginPath();
    ctx.moveTo(0,canvas.height);
    ctx.lineTo(250,canvas.height-180);
    ctx.lineTo(500,canvas.height);
    ctx.fill();
  }

  /* ===== SUELO ===== */
  ctx.fillStyle="#000";
  ctx.fillRect(0,canvas.height-60,canvas.width,60);

  /* ===== JUGADOR ===== */
  player.vy += player.gravity;
  player.y += player.vy;

  if(player.y + player.h >= canvas.height-60){
    player.y = canvas.height-60-player.h;
    player.vy = 0;
    player.onGround = true;
  }

  if(imgPlayer.complete){
    ctx.drawImage(imgPlayer,player.x,player.y,player.w,player.h);
  }else{
    ctx.fillStyle="#b400ff";
    ctx.fillRect(player.x,player.y,player.w,player.h);
  }

  /* ===== TELAS (OBST√ÅCULOS) ===== */
  spawnTimer++;
  if(spawnTimer > 100){
    telas.push({
      x:canvas.width,
      y:canvas.height-60-70,
      w:22,
      h:70,
      passed:false
    });
    spawnTimer = 0;
  }

  telas.forEach((t,i)=>{
    t.x -= speed;

    if(imgTela.complete){
      ctx.drawImage(imgTela,t.x,t.y,t.w,t.h);
    }else{
      ctx.fillStyle="#7f00ff";
      ctx.fillRect(t.x,t.y,t.w,t.h);
    }

    // Colisi√≥n
    if(
      player.x < t.x + t.w &&
      player.x + player.w > t.x &&
      player.y < t.y + t.h &&
      player.y + player.h > t.y
    ){
      alert("üåô El aire te solt√≥‚Ä¶");
      location.reload();
    }

    // Contador
    if(!t.passed && t.x + t.w < player.x){
      t.passed = true;
      score++;
      scoreSpan.textContent = score;
    }

    if(t.x + t.w < 0){
      telas.splice(i,1);
    }
  });

  requestAnimationFrame(loop);
}

/* ===== START ===== */
document.getElementById("start").onclick = ()=>{
  document.getElementById("menu").style.display="none";
  player.y = canvas.height-100;
  running = true;
  loop();
};
</script>

</body>
</html>
