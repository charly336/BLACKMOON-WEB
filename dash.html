<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aerial Dance Dash</title>
    <style>
        body { margin: 0; overflow: hidden; font-family: 'Arial', sans-serif; background: #87CEEB; }
        #game-container { position: relative; width: 100vw; height: 100vh; display: flex; flex-direction: column; }
        
        /* Canvas responsivo */
        canvas { display: block; background: linear-gradient(#2c3e50, #000); width: 100%; height: calc(100% - 60px); }

        /* Interfaz de usuario */
        #ui-layer { position: absolute; top: 0; left: 0; width: 100%; height: 100%; display: flex; flex-direction: column; justify-content: center; align-items: center; pointer-events: none; }
        button { pointer-events: auto; padding: 15px 30px; font-size: 20px; cursor: pointer; background: #e74c3c; color: white; border: none; border-radius: 10px; transition: 0.3s; }
        button:hover { transform: scale(1.1); }

        /* Footer */
        footer { height: 60px; background: #222; color: white; display: flex; justify-content: space-around; align-items: center; z-index: 10; }
        footer a { color: #3498db; text-decoration: none; font-size: 14px; }
    </style>
</head>
<body>

<div id="game-container">
    <canvas id="gameCanvas"></canvas>

    <div id="ui-layer">
        <h1 id="title" style="color: white; text-shadow: 2px 2px #000;">AERIAL DANCE DASH</h1>
        <button id="startBtn">BAILAR / JUGAR</button>
    </div>

    <footer>
        <a href="#">Web Oficial</a>
        <a href="#">Galería Danza</a>
        <a href="#">Música</a>
        <a href="#">Créditos</a>
    </footer>
</div>

<audio id="bgMusic" loop>
    <source src="tu-musica.mp3" type="audio/mpeg">
</audio>

<script>
const canvas = document.getElementById('gameCanvas');
const ctx = canvas.getContext('2d');
const startBtn = document.getElementById('startBtn');
const bgMusic = document.getElementById('bgMusic');

// Configuración de pantalla
function resize() {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight - 60;
}
window.addEventListener('resize', resize);
resize();

// --- CARGA DE IMÁGENES (Aquí cambias las rutas) ---
const assets = {
    player: new Image(), // Tu bailarina aérea
    sun: new Image(),
    cloud: new Image(),
    mountain: new Image(),
    obstacle: new Image()
};

// Reemplaza estas URLs con tus archivos locales
assets.sun.src = 'https://cdn-icons-png.flaticon.com/512/869/869869.png'; 
assets.cloud.src = 'https://pngimg.com/uploads/cloud/cloud_PNG13.png';
assets.mountain.src = 'https://pngimg.com/uploads/mountain/mountain_PNG18.png';
assets.player.src = 'https://cdn-icons-png.flaticon.com/512/3211/3211183.png'; // Icono danza

// Estado del juego
let gameActive = false;
let score = 0;
let gravity = 0.6;
let scrollSpeed = 5;

// Objeto Jugador
const player = {
    x: 100,
    y: 300,
    w: 50,
    h: 80,
    dy: 0,
    jumpForce: -12,
    grounded: false
};

// Obstáculos y Fondo
let obstacles = [];
let bgElements = [];

function init() {
    score = 0;
    obstacles = [];
    player.y = canvas.height - 150;
    gameActive = true;
    bgMusic.play();
    spawnObstacle();
}

function spawnObstacle() {
    if(!gameActive) return;
    obstacles.push({ x: canvas.width, y: canvas.height - 70, w: 40, h: 40 });
    setTimeout(spawnObstacle, 1500 + Math.random() * 1000);
}

// Lógica de Salto
function jump() {
    if (player.grounded) {
        player.dy = player.jumpForce;
        player.grounded = false;
    }
}

window.addEventListener('keydown', (e) => { if(e.code === 'Space') jump(); });
canvas.addEventListener('touchstart', jump);

function update() {
    if (!gameActive) return;

    // Gravedad y Movimiento
    player.dy += gravity;
    player.y += player.dy;

    // Suelo básico
    if (player.y + player.h > canvas.height - 30) {
        player.y = canvas.height - 30 - player.h;
        player.dy = 0;
        player.grounded = true;
    }

    // Actualizar Obstáculos
    obstacles.forEach((obs, index) => {
        obs.x -= scrollSpeed;
        
        // Colisión simple
        if (player.x < obs.x + obs.w && player.x + player.w > obs.x &&
            player.y < obs.y + obs.h && player.y + player.h > obs.y) {
            gameOver();
        }

        if (obs.x + obs.w < 0) {
            obstacles.splice(index, 1);
            score++;
        }
    });

    draw();
    requestAnimationFrame(update);
}

function draw() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    // Dibujar Sol/Luna
    ctx.drawImage(assets.sun, canvas.width - 150, 50, 100, 100);

    // Dibujar Montañas (Fondo estático o lento)
    ctx.drawImage(assets.mountain, 0, canvas.height - 200, 400, 200);
    ctx.drawImage(assets.mountain, 400, canvas.height - 200, 400, 200);

    // Dibujar Jugador (Bailarina)
    ctx.drawImage(assets.player, player.x, player.y, player.w, player.h);

    // Dibujar Obstáculos (Picos o telas)
    ctx.fillStyle = "#ff0000";
    obstacles.forEach(obs => {
        ctx.fillRect(obs.x, obs.y, obs.w, obs.h);
    });

    // Marcador
    ctx.fillStyle = "white";
    ctx.font = "24px Arial";
    ctx.fillText(`Puntos: ${score}`, 20, 40);
}

function gameOver() {
    gameActive = false;
    bgMusic.pause();
    alert("¡Caída! Puntuación: " + score);
    location.reload();
}

startBtn.addEventListener('click', () => {
    document.getElementById('ui-layer').style.display = 'none';
    init();
    update();
});
</script>

</body>
</html>
