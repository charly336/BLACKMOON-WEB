<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Aerial Dash ¬∑ Black Moon</title>

<style>
body{
  margin:0;
  background:#000;
  overflow:hidden;
  font-family:Arial;
  color:white;
}

/* MENU */
#menu{
  position:fixed;
  inset:0;
  background:#000;
  display:flex;
  justify-content:center;
  align-items:center;
  z-index:10;
}
#menu button{
  padding:16px 40px;
  font-size:20px;
}

/* HUD */
#hud{
  position:fixed;
  top:10px;
  left:10px;
  z-index:5;
}

/* CONTROLES */
#controls{
  position:fixed;
  bottom:20px;
  right:20px;
  z-index:5;
}
#jump{
  width:90px;
  height:90px;
  border-radius:50%;
  font-size:22px;
}
</style>
</head>

<body>

<div id="menu">
  <button id="start">INICIAR RITUAL</button>
</div>

<div id="hud">
  üåô Isis Moon<br>
  Salta las telas
</div>

<canvas id="game"></canvas>

<div id="controls">
  <button id="jump">‚¨ÜÔ∏è</button>
</div>

<script>
/* ===== CANVAS ===== */
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

function resize(){
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
}
resize();
window.addEventListener("resize", resize);

/* ===== JUGADOR (ISIS MOON) ===== */
const player = {
  x:120,
  y:0,
  w:40,
  h:40,
  vy:0,
  gravity:0.9,
  jump:-16,
  onGround:false
};

/* ===== ESTADO ===== */
let running=false;
let speed=6;

/* ===== TELAS A√âREAS ===== */
let telas=[];
let spawnTimer=0;

/* ===== CONTROLES ===== */
document.getElementById("jump").onclick = jump;
document.addEventListener("keydown",e=>{
  if(e.code==="Space"||e.code==="ArrowUp") jump();
});

function jump(){
  if(player.onGround){
    player.vy = player.jump;
    player.onGround = false;
  }
}

/* ===== LOOP ===== */
function loop(){
  if(!running) return;

  ctx.clearRect(0,0,canvas.width,canvas.height);

  /* ===== FONDO BLACK MOON ===== */

  // cielo
  ctx.fillStyle="#0a0018";
  ctx.fillRect(0,0,canvas.width,canvas.height);

  // luna
  ctx.fillStyle="#ddd";
  ctx.beginPath();
  ctx.arc(canvas.width-100,80,35,0,Math.PI*2);
  ctx.fill();

  // nubes
  ctx.fillStyle="rgba(255,255,255,0.15)";
  for(let i=0;i<5;i++){
    ctx.beginPath();
    ctx.arc((i*300 + Date.now()/50)%canvas.width,120,40,0,Math.PI*2);
    ctx.fill();
  }

  // monta√±as
  ctx.fillStyle="#1a0033";
  ctx.beginPath();
  ctx.moveTo(0,canvas.height);
  ctx.lineTo(200,canvas.height-200);
  ctx.lineTo(400,canvas.height);
  ctx.fill();

  ctx.beginPath();
  ctx.moveTo(300,canvas.height);
  ctx.lineTo(600,canvas.height-250);
  ctx.lineTo(900,canvas.height);
  ctx.fill();

  /* ===== SUELO ===== */
  ctx.fillStyle="#000";
  ctx.fillRect(0,canvas.height-60,canvas.width,60);

  /* ===== JUGADOR ===== */
  player.vy += player.gravity;
  player.y += player.vy;

  if(player.y + player.h >= canvas.height-60){
    player.y = canvas.height-60-player.h;
    player.vy = 0;
    player.onGround = true;
  }

  ctx.fillStyle="#b400ff";
  ctx.fillRect(player.x,player.y,player.w,player.h);

  /* ===== TELAS (OBST√ÅCULOS) ===== */
  spawnTimer++;
  if(spawnTimer > 100){
    telas.push({
      x:canvas.width,
      y:canvas.height-60-120,
      w:30,
      h:120
    });
    spawnTimer = 0;
  }

  telas.forEach((t,i)=>{
    t.x -= speed;

    // tela
    ctx.fillStyle="#7f00ff";
    ctx.fillRect(t.x,t.y,t.w,t.h);

    // colisi√≥n
    if(
      player.x < t.x + t.w &&
      player.x + player.w > t.x &&
      player.y < t.y + t.h &&
      player.y + player.h > t.y
    ){
      alert("üåô El aire te solt√≥‚Ä¶");
      location.reload();
    }

    if(t.x + t.w < 0){
      telas.splice(i,1);
    }
  });

  requestAnimationFrame(loop);
}

/* ===== START ===== */
document.getElementById("start").onclick = ()=>{
  document.getElementById("menu").style.display="none";
  player.y = canvas.height-100;
  running = true;
  loop();
};
</script>

</body>
</html>
