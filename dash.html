<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Aerial Dash ¬∑ Black Moon</title>

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:Arial,Helvetica,sans-serif}
body{background:#000;overflow:hidden;color:white}

/* MENU */
#menu{
  position:fixed;inset:0;
  background:linear-gradient(to top,#000,#16002e);
  display:flex;flex-direction:column;
  justify-content:center;align-items:center;
  z-index:10;
}
#menu h1{font-size:2.3rem;margin-bottom:10px}
#menu p{opacity:.8;margin-bottom:20px}
#menu button{
  padding:12px 40px;border:none;border-radius:30px;
  background:#7f00ff;color:white;font-size:1rem;margin-top:15px;
}

/* PERSONAJES */
#chars{display:flex;gap:15px}
.char{
  width:90px;height:90px;border-radius:15px;
  display:flex;align-items:center;justify-content:center;
  cursor:pointer;font-size:.8rem;text-align:center;
  background:rgba(255,255,255,.1);
  border:2px solid transparent;
}
.char.active{border-color:#b400ff}

/* HUD */
#hud{
  position:fixed;top:10px;left:10px;
  background:rgba(0,0,0,.5);
  padding:10px 14px;border-radius:14px;z-index:5;
}

/* CANVAS */
canvas{display:block}

/* CONTROLES */
#controls{
  position:fixed;bottom:60px;right:15px;
  display:grid;
  grid-template-columns:repeat(3,80px);
  grid-template-rows:repeat(2,80px);
  gap:10px;z-index:5;
}
.btn{
  border:none;border-radius:50%;
  background:rgba(127,0,255,.85);
  color:white;font-size:.75rem;
}
#pause,#reset{
  position:fixed;top:10px;right:10px;
  width:60px;height:60px;border-radius:50%;
}
#reset{right:80px;background:rgba(255,0,80,.85)}

/* FOOTER */
footer{
  position:fixed;bottom:0;width:100%;height:45px;
  background:#000;display:flex;
  justify-content:space-around;align-items:center;z-index:5;
}
footer a{color:white;font-size:.75rem;text-decoration:none}
</style>
</head>

<body>

<div id="menu">
  <h1>üåô Aerial Dash</h1>
  <p>Elige tu guardi√°n del aire</p>

  <div id="chars">
    <div class="char active" data-char="isis">Isis Moon</div>
    <div class="char" data-char="soul">Aerial Soul</div>
    <div class="char" data-char="disciple">Luna Disc√≠pula</div>
  </div>

  <button id="start">INICIAR RITUAL</button>
</div>

<div id="hud">
  Fase: <span id="phase">I</span><br>
  R√©cord: <span id="record">0</span>
</div>

<canvas id="canvas"></canvas>

<button id="pause" class="btn">PAUSA</button>
<button id="reset" class="btn">RESET</button>

<div id="controls">
  <button id="left" class="btn">‚¨ÖÔ∏è</button>
  <div></div>
  <button id="right" class="btn">‚û°Ô∏è</button>
  <div></div>
  <button id="jump" class="btn">‚¨ÜÔ∏è</button>
  <div></div>
</div>

<footer>
  <a href="#">Podcast</a>
  <a href="#">Escuela</a>
  <a href="#">Records</a>
  <a href="#">Black Moon</a>
</footer>

<script>
/* CANVAS */
const canvas=document.getElementById("canvas");
const ctx=canvas.getContext("2d");
function resize(){canvas.width=innerWidth;canvas.height=innerHeight}
resize();addEventListener("resize",resize);

/* ESTADO */
let running=false,paused=false;
let frame=0,phase=1,speed=6,score=0;
let record=localStorage.getItem("bm_record")||0;
recordSpan.innerText=record;

/* PERSONAJES */
let characters={
  isis:{color:"#b400ff",jump:-18,move:6},
  soul:{color:"#00c8ff",jump:-16,move:8},
  disciple:{color:"#ff4fd8",jump:-20,move:5}
};
let current=characters.isis;

/* SELECTOR */
document.querySelectorAll(".char").forEach(c=>{
  c.onclick=()=>{
    document.querySelectorAll(".char").forEach(x=>x.classList.remove("active"));
    c.classList.add("active");
    current=characters[c.dataset.char];
  }
});

/* JUGADOR */
let player={x:80,y:0,w:50,h:50,vy:0,onGround:false};

/* INPUT */
let moveL=false,moveR=false;

/* CONTROLES */
left.onpointerdown=()=>moveL=true;
left.onpointerup=()=>moveL=false;
right.onpointerdown=()=>moveR=true;
right.onpointerup=()=>moveR=false;
jump.onclick=()=>doJump();

addEventListener("keydown",e=>{
  if(e.key==="ArrowLeft") moveL=true;
  if(e.key==="ArrowRight") moveR=true;
  if(e.key===" "||e.key==="ArrowUp") doJump();
});
addEventListener("keyup",e=>{
  if(e.key==="ArrowLeft") moveL=false;
  if(e.key==="ArrowRight") moveR=false;
});

/* PAUSA */
pause.onclick=()=>{
  paused=!paused;
  pause.innerText=paused?"PLAY":"PAUSA";
  if(!paused) loop();
};
reset.onclick=()=>location.reload();

function doJump(){
  if(player.onGround&&!paused){
    player.vy=current.jump;
    player.onGround=false;
  }
}

/* LOOP */
function loop(){
  if(!running||paused) return;
  ctx.clearRect(0,0,canvas.width,canvas.height);

  ctx.fillStyle=phase%2?"#0a0018":"#87ceeb";
  ctx.fillRect(0,0,canvas.width,canvas.height);

  ctx.fillStyle="#111";
  ctx.fillRect(0,canvas.height-60,canvas.width,60);

  if(moveL) player.x-=current.move;
  if(moveR) player.x+=current.move;
  player.x=Math.max(0,Math.min(canvas.width-player.w,player.x));

  player.vy+=0.9;
  player.y+=player.vy;
  if(player.y+player.h>=canvas.height-60){
    player.y=canvas.height-60-player.h;
    player.vy=0;player.onGround=true;
  }

  ctx.fillStyle=current.color;
  ctx.fillRect(player.x,player.y,player.w,player.h);

  frame++;score++;
  if(score%1200===0){
    phase++;speed++;
    phaseSpan.innerText=phase;
  }

  requestAnimationFrame(loop);
}

/* START */
start.onclick=()=>{
  menu.style.display="none";
  player.y=canvas.height-110;
  running=true;loop();
};
</script>

</body>
</html>
